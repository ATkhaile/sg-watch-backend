<?php

use Illuminate\Support\Facades\Route;

/*
|--------------------------------------------------------------------------
| API Routes
|--------------------------------------------------------------------------
|
| 認証レベル:
| - Guest: 認証不要（誰でもアクセス可能）
| - auth.basic: JWTのみ（Mobile向け）
| - auth.session: JWT + セッション検証（Web/SPA向け）
| - auth.system_admin: JWT + isSystemAdmin()（管理者向け）
|
| ルートファイル構成:
| - guest.php: 認証不要のルート（ログイン、登録、公開データ等）
| - mobile.php: モバイルアプリ向けルート（auth.basic）
| - member.php: 一般ユーザー向けルート（auth.session）
| - system_admin.php: システム管理者専用ルート（auth.system_admin）
|
*/

Route::group([
    'as' => 'api.',
], function () {

    // ╔════════════════════════════════════════════════════════════════════╗
    // ║                         GUEST ROUTES                               ║
    // ║                        （認証不要）                                  ║
    // ╚════════════════════════════════════════════════════════════════════╝
    require __DIR__ . '/api/guest.php';

    // ╔════════════════════════════════════════════════════════════════════╗
    // ║                    MOBILE APP ROUTES (auth.basic)                  ║
    // ║                  iOS/Android向け（JWTのみ）                          ║
    // ╚════════════════════════════════════════════════════════════════════╝
    require __DIR__ . '/api/mobile.php';

    // ╔════════════════════════════════════════════════════════════════════╗
    // ║                      MEMBER ROUTES (auth.session)                  ║
    // ║                  一般ユーザー（Web向け、セッション管理付き）            ║
    // ╚════════════════════════════════════════════════════════════════════╝
    require __DIR__ . '/api/member.php';

    // ╔════════════════════════════════════════════════════════════════════╗
    // ║                   SYSTEM ADMIN ROUTES (auth.system_admin)          ║
    // ║                  システム管理者専用（JWT + isSystemAdmin()）          ║
    // ╚════════════════════════════════════════════════════════════════════╝
    require __DIR__ . '/api/system_admin.php';

});
